CREATE DATABASE encrypturls;

GRANT ALL PRIVILEGES ON encrypturls.* TO admin@"localhost" IDENTIFIED BY 'password';

SET PASSWORD FOR 'admin'@'localhost' = PASSWORD('password');

use encrypturls;

DROP TABLE URL_DATA;
/

CREATE TABLE URL_DATA(
	ID int(10) unsigned NOT NULL AUTO_INCREMENT,
	ENCODED_STR VARCHAR(700) NOT NULL,
	URL_STR VARCHAR(2000) NOT NULL,
	KEY_STR VARCHAR(2000) NOT NULL,
	CREATED DATETIME DEFAULT NULL,
	MODIFIED TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
	PRIVACY INTEGER(1) DEFAULT 0,
	USER_ID INTEGER(10),
	PRIMARY KEY (ID)
	);	
	
	
CREATE TABLE USER_DATA(
	ID int(10) unsigned NOT NULL AUTO_INCREMENT,
	NAME VARCHAR(128) NOT NULL,
	PASSWORD VARCHAR(256) NOT NULL,
	EMAIL VARCHAR(128) NOT NULL,
	MOBILE_NUMBER VARCHAR(64) DEFAULT NULL,
	API_KEY VARCHAR(256) DEFAULT NULL,
	ROLE INTEGER(1) DEFAULT 0,
	CREATED DATETIME DEFAULT NULL,
	MODIFIED TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
	PRIMARY KEY (ID)
	);	
	
ID, NAME, PASSWORD, EMAIL, MOBILE_NUMBER, KEY, ROLE	
